\documentclass[11pt,a4paper,]{letter}
\usepackage{bera}

\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
    \setsansfont[]{Chandas}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage{geometry}
\geometry{a4paper, top=2cm, bottom=3cm, left=2cm, right=2cm}
\ifLuaTeX
\usepackage[bidi=basic]{babel}
\else
\usepackage[bidi=default]{babel}
\fi
\babelprovide[main,import]{british}
% get rid of language-specific shorthands (see #6817):
\let\LanguageShortHands\languageshorthands
\def\languageshorthands#1{}
\usepackage[useregional,showdow]{datetime2}
\DTMlangsetup[en-GB]{abbr}
\usepackage{longtable,booktabs}
% Fix footnotes in tables (requires footnote package)
\IfFileExists{footnote.sty}{\usepackage{footnote}\makesavenoteenv{long table}}{}
\usepackage{graphicx}
\usepackage{grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color,hyperref,url,fontawesome}
\urlstyle{same}  % don't use monospace font for urls
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1cm}
\setlength{\TPVertModule}{1cm}

\newsavebox{\letterlogo}
\newsavebox{\letterfooter}
\newsavebox{\letterfrom}

\IfFileExists{_extensions/nareal/nastatement/um-eeg.pdf}{
    \sbox{\letterlogo}{\hbox{\includegraphics[]{_extensions/nareal/nastatement/um-eeg}}}
  }{
    \sbox{\letterlogo}{\hbox{\includegraphics[]{_extensions/nastatement/um-eeg}}}
  }

\newlength{\junkw}

\makeatletter
\def\ps@eeg{\begin{textblock}{8}(2,1.5)
\usebox{\letterlogo}
\end{textblock}
\begin{textblock}{6}(15,1.7)
\usebox{\letterfrom}
\end{textblock}
\begin{textblock}{10}(2,27.2)\usebox{\letterfooter}\end{textblock}\def\thepage{}}

\@ifundefined{closing}{}{%
\renewcommand*{\closing}[1]{
  \par%
  \vspace{4\parskip}%
  {\@date\par}%
  \vspace{2\parskip}%
  #1\par\nobreak}}
\makeatother

\newcommand{\stitle}[1]{%
  \thispagestyle{eeg}%
  {\centering \sffamily\color[gray]{0.2}{\Large\textbf{#1}\par\nobreak}}
  \vspace{4\parskip}}


\def\section#1{\vspace{0.3cm}\par{\textsf{\bfseries\Large #1}}\vspace*{0.02cm}\par}
\def\subsection#1{\vspace{0.3cm}\par{\textsf{\bfseries\large #1}}\vspace*{0.02cm}\par} %}

% Spacing
\RequirePackage{setspace}

% Fix href problems
\def\href#1{}



\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\makeatother

\sbox{\letterfrom}{\parbox{10cm}{\fontsize{10}{12}\sffamily\color[gray]{0.4}
{\large\textbf{Author name}}\\
Author title\\[0.2cm]
\begin{tabular}{@{}ll@{}}
      \faGlobe       & https://web.address\\
        \faEnvelope   & email@somewhere.com\\
        \faPhone     & +999 999 999
  \end{tabular}}}


\sbox{\letterfooter}{\parbox{10cm}{\fontsize{9}{11}\sffamily\color[gray]{0.4}{University
address\\
Somewhere\\
Universe}}}

\date{\today}

\begin{document}
\selectlanguage{british}
\sf
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[frame hidden, sharp corners, breakable, enhanced, boxrule=0pt, interior hidden, borderline west={3pt}{0pt}{shadecolor}]}{\end{tcolorbox}}\fi
\begin{letter}{}
\setstretch{1}
%\vspace*{2cm}
\stitle{To whom it may concern}
\setstretch{1.4}
\hypertarget{das-ist-ein-test}{%
\subsection{Das ist ein Test}\label{das-ist-ein-test}}

Und das hier ist der Text

\begin{Form}[action={http://your-web-server.com/path/receiveform.cgi}]
\begin{tabular}{l}
    \TextField{Name} \\\\
    \CheckBox[width=1em]{Check} \\\\
    \Submit{Submit}\\
\end{tabular}
\end{Form}
\closing{
    Best regards,\\[0.5cm]
      Author name
  }
\end{letter}

\end{document}
